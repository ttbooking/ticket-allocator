import{g as L,p as A,I as F,L as I,r as P,an as z,ao as R,w as $,B as N,i as U,E as C,f as e,ap as W,aq as O,Q as H,S as q,d as M,ar as Q,W as X,X as x,a2 as u,ag as Y,Y as l,h as b,V as E,a8 as p,l as B,a0 as d,as as Z,a1 as w,at as j,Z as G,am as J,F as K}from"./app-DNFecrm8.js";import{V as ee,a as te,b as ae,c as D}from"./VSpacer-lyyrZSW2.js";import{V as le}from"./VCheckboxBtn-CeaTzGl_.js";import{b as T,c as oe,d as ne,e as re}from"./filter-DwKjOrH0.js";import{f as ie}from"./VTextField-BKJJmIJF.js";import{V as se,b as ce,a as ue,c as de}from"./VCard-CaQuxD4Q.js";import{V as fe}from"./VContainer-BYlod_Kj.js";import{V as me,a as ve}from"./VRow-D33ZPker.js";import"./VTable-Dv8vAkBl.js";/* empty css              */import"./VSelectionControl-ko3MR-dF.js";import"./VInput-Br0m-kvz.js";const pe=A({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...oe({origin:"center center",scrollStrategy:"block",transition:{component:ne},zIndex:2400})},"VDialog"),Ve=L()({name:"VDialog",props:pe(),emits:{"update:modelValue":o=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(o,f){let{emit:k,slots:s}=f;const r=F(o,"modelValue"),{scopeId:_}=I(),t=P();function c(n){var v,h;const m=n.relatedTarget,y=n.target;if(m!==y&&((v=t.value)!=null&&v.contentEl)&&((h=t.value)!=null&&h.globalTop)&&![document,t.value.contentEl].includes(y)&&!t.value.contentEl.contains(y)){const i=O(t.value.contentEl);if(!i.length)return;const g=i[0],S=i[i.length-1];m===g?S.focus():g.focus()}}z(()=>{document.removeEventListener("focusin",c)}),R&&$(()=>r.value&&o.retainFocus,n=>{n?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)},{immediate:!0});function V(){var n;k("afterEnter"),(o.scrim||o.retainFocus)&&((n=t.value)!=null&&n.contentEl)&&!t.value.contentEl.contains(document.activeElement)&&t.value.contentEl.focus({preventScroll:!0})}function a(){k("afterLeave")}return $(r,async n=>{var m;n||(await N(),(m=t.value.activatorEl)==null||m.focus({preventScroll:!0}))}),U(()=>{const n=T.filterProps(o),m=C({"aria-haspopup":"dialog"},o.activatorProps),y=C({tabindex:-1},o.contentProps);return e(T,C({ref:t,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},n,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,"aria-modal":"true",activatorProps:m,contentProps:y,height:o.fullscreen?void 0:o.height,width:o.fullscreen?void 0:o.width,maxHeight:o.fullscreen?void 0:o.maxHeight,maxWidth:o.fullscreen?void 0:o.maxWidth,role:"dialog",onAfterEnter:V,onAfterLeave:a},_),{activator:s.activator,default:function(){for(var v=arguments.length,h=new Array(v),i=0;i<v;i++)h[i]=arguments[i];return e(W,{root:"VDialog"},{default:()=>{var g;return[(g=s.default)==null?void 0:g.call(s,...h)]}})}})}),ie({},t)}}),ye={class:"text-xl leading-tight font-semibold text-gray-800"},he={class:"text-h5"},Te=H({__name:"Index",props:{factors:{},factorDictionary:{}},setup(o){const{t:f}=q(),k=M(()=>[{title:f("active"),key:"active",sortable:!1},{title:f("type"),key:"type.name",sortable:!1},{title:f("name"),key:"name",sortable:!1},{title:f("description"),key:"description",sortable:!1},{title:f("actions"),key:"actions",sortable:!1}]),s=P(),r=P();function _(){s.value=null}return(t,c)=>{const V=Q("v-btn-ex");return x(),X(K,null,[e(u(Y),{title:t.$t("factors")},null,8,["title"]),e(J,null,{header:l(()=>[b("h2",ye,d(t.$t("factors")),1)]),default:l(()=>[b("div",null,[e(ee,{headers:k.value,items:t.factors},{top:l(()=>[e(te,{flat:""},{default:l(()=>[e(ae,null,{default:l(()=>[w(d(t.$t("factors")),1)]),_:1}),e(j,{class:"mx-4",inset:"",vertical:""}),e(D),e(Ve,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=a=>s.value=a),"max-width":"500px"},{activator:l(({props:a})=>[e(E,C({color:"primary",dark:""},a),{default:l(()=>[w(d(t.$t("new_factor")),1)]),_:2},1040)]),default:l(()=>[e(se,null,{default:l(()=>[e(ce,null,{default:l(()=>[b("span",he,d(t.$t("choose_factor_type")),1)]),_:1}),e(ue,null,{default:l(()=>[e(fe,null,{default:l(()=>[e(me,null,{default:l(()=>[e(ve,{cols:"12",md:"12"},{default:l(()=>[e(re,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=a=>r.value=a),label:t.$t("factor_type"),items:t.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(de,null,{default:l(()=>[e(D),e(E,{color:"primary",dark:"",onClick:_},{default:l(()=>[w(d(t.$t("cancel")),1)]),_:1}),(x(),G(E,{key:r.value,to:u(p)("ticket-allocator.factors.create",{type:r.value}),disabled:!r.value,color:"primary",dark:"",onClick:_},{default:l(()=>[w(d(t.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":l(({item:a})=>[e(u(Z),{as:"span",href:u(p)("ticket-allocator.factors.update",a.uuid),method:"patch",data:{active:!!a.deleted_at}},{default:l(()=>[e(le,{"model-value":!a.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":l(({item:a})=>[b("span",{class:B({italic:a.type.excluded})},d(a.type.name),3)]),"item.name":l(({item:a})=>[b("span",{class:B({italic:a.type.excluded&&!a.display_name})},d(a.name),3)]),"item.actions":l(({item:a})=>[e(E,{to:u(p)("ticket-allocator.factors.edit",a.uuid),icon:"mdi-pencil",title:t.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),e(V,{to:u(p)("ticket-allocator.factors.raise-priority",a.uuid),method:"put",icon:"mdi-arrow-up-thick",title:t.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(V,{to:u(p)("ticket-allocator.factors.lower-priority",a.uuid),method:"put",icon:"mdi-arrow-down-thick",title:t.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(V,{to:u(p)("ticket-allocator.factors.destroy",a.uuid),method:"delete",icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{Te as default};
//# sourceMappingURL=Index-ClWsVN1r.js.map
