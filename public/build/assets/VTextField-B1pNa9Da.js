import{g as X,b as Y,c,x as oe,K as ve,d as i,n as se,e as J,M as Ve,D as C,p as O,c0 as we,cf as Se,C as re,i as _e,aB as Ie,aE as Pe,j as ke,aU as me,a as Fe,u as Be,w as Re,P as Ae,y as Ee,aH as Ne,m as A,ar as Te,c7 as Le,F as Q,r as D,f as I,ax as ne,A as $e,aN as pe,aQ as De,bF as ae,s as Me,z as Oe,aW as ce,G as We,aV as Ue,o as ge,cg as He,t as ie,a$ as ze}from"./app-CbAAu-5u.js";import{e as qe,u as he,a as Ze,g as je,V as de,f as Ge,m as Ke}from"./VInput-CGvaCURJ.js";class P{constructor(l){const n=document.body.currentCSSZoom??1,a=l instanceof Element,t=a?1+(1-n)/n:1,{x:o,y:r,width:g,height:v}=a?l.getBoundingClientRect():l;this.x=o*t,this.y=r*t,this.width=g*t,this.height=v*t}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function ut(e,l){return{x:{before:Math.max(0,l.left-e.left),after:Math.max(0,e.right-l.right)},y:{before:Math.max(0,l.top-e.top),after:Math.max(0,e.bottom-l.bottom)}}}function ct(e){if(Array.isArray(e)){const l=document.body.currentCSSZoom??1,n=1+(1-l)/l;return new P({x:e[0]*n,y:e[1]*n,width:0*n,height:0*n})}else return new P(e)}function dt(e){if(e===document.documentElement)if(visualViewport){const l=document.body.currentCSSZoom??1;return new P({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale/l,height:visualViewport.height*visualViewport.scale/l})}else return new P({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});else return new P(e)}function Qe(e){const l=new P(e),n=getComputedStyle(e),a=n.transform;if(a){let t,o,r,g,v;if(a.startsWith("matrix3d("))t=a.slice(9,-1).split(/, /),o=Number(t[0]),r=Number(t[5]),g=Number(t[12]),v=Number(t[13]);else if(a.startsWith("matrix("))t=a.slice(7,-1).split(/, /),o=Number(t[0]),r=Number(t[3]),g=Number(t[4]),v=Number(t[5]);else return new P(l);const h=n.transformOrigin,k=l.x-g-(1-o)*parseFloat(h),E=l.y-v-(1-r)*parseFloat(h.slice(h.indexOf(" ")+1)),T=o?l.width/o:e.offsetWidth+1,L=r?l.height/r:e.offsetHeight+1;return new P({x:k,y:E,width:T,height:L})}else return new P(l)}function Xe(e,l,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let a;try{a=e.animate(l,n)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(t=>{a.onfinish=()=>{t(a)}})),a}const Ye=O({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...re(),...we({transition:{component:Se}})},"VCounter"),Je=X()({name:"VCounter",functional:!0,props:Ye(),setup(e,l){let{slots:n}=l;const a=C(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Y(()=>c(Ve,{transition:e.transition},{default:()=>[oe(i("div",{class:J(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:se(e.style)},[n.default?n.default({counter:a.value,max:e.max,value:e.value}):a.value]),[[ve,e.active]])]})),{}}}),et=O({floating:Boolean,...re()},"VFieldLabel"),K=X()({name:"VFieldLabel",props:et(),setup(e,l){let{slots:n}=l;return Y(()=>c(qe,{class:J(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:se(e.style)},n)),{}}}),tt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ye=O({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>tt.includes(e)},"onClick:clear":ae(),"onClick:appendInner":ae(),"onClick:prependInner":ae(),...re(),...De(),...pe(),...$e()},"VField"),fe=X()({name:"VField",inheritAttrs:!1,props:{id:String,details:Boolean,labelId:String,...je(),...ye()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:n,emit:a,slots:t}=l;const{themeClasses:o}=_e(e),{loaderClasses:r}=Ie(e),{focusClasses:g,isFocused:v,focus:h,blur:k}=he(e),{InputIcon:E}=Ze(e),{roundedClasses:T}=Pe(e),{rtlClasses:L}=ke(),V=C(()=>e.dirty||e.active),F=C(()=>!!(e.label||t.label)),y=C(()=>!e.singleLine&&F.value),ee=me(),w=I(()=>e.id||`input-${ee}`),W=C(()=>e.details?`${w.value}-messages`:void 0),U=D(),$=D(),H=D(),s=I(()=>["plain","underlined"].includes(e.variant)),u=I(()=>e.error||e.disabled?void 0:V.value&&v.value?e.color:e.baseColor),b=I(()=>{if(!(!e.iconColor||e.glow&&!v.value))return e.iconColor===!0?u.value:e.iconColor}),{backgroundColorClasses:p,backgroundColorStyles:M}=Fe(()=>e.bgColor),{textColorClasses:B,textColorStyles:z}=Be(u);Re(V,d=>{if(y.value&&!Ae()){const x=U.value.$el,S=$.value.$el;requestAnimationFrame(()=>{const _=Qe(x),f=S.getBoundingClientRect(),N=f.x-_.x,te=f.y-_.y-(_.height/2-f.height/2),j=f.width/.75,G=Math.abs(j-_.width)>1?{maxWidth:Ee(j)}:void 0,le=getComputedStyle(x),ue=getComputedStyle(S),be=parseFloat(le.transitionDuration)*1e3||150,xe=parseFloat(ue.getPropertyValue("--v-field-label-scale")),Ce=ue.getPropertyValue("color");x.style.visibility="visible",S.style.visibility="hidden",Xe(x,{transform:`translate(${N}px, ${te}px) scale(${xe})`,color:Ce,...G},{duration:be,easing:Me,direction:d?"normal":"reverse"}).finished.then(()=>{x.style.removeProperty("visibility"),S.style.removeProperty("visibility")})})}},{flush:"post"});const m=I(()=>({isActive:V,isFocused:v,controlRef:H,iconColor:b,blur:k,focus:h})),R=C(()=>{const d=!V.value;return{"aria-hidden":d,for:d?void 0:w.value}}),q=C(()=>{const d=y.value&&V.value;return{"aria-hidden":d,for:d?void 0:w.value}});function Z(d){d.target!==document.activeElement&&d.preventDefault()}return Y(()=>{const d=e.variant==="outlined",x=!!(t["prepend-inner"]||e.prependInnerIcon),S=!!(e.clearable||t.clear)&&!e.disabled,_=!!(t["append-inner"]||e.appendInnerIcon||S),f=()=>t.label?t.label({...m.value,label:e.label,props:{for:w.value}}):e.label;return i("div",A({class:["v-field",{"v-field--active":V.value,"v-field--appended":_,"v-field--center-affix":e.centerAffix??!s.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":x,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!f(),[`v-field--variant-${e.variant}`]:!0},o.value,p.value,g.value,r.value,T.value,L.value,e.class],style:[M.value,e.style],onClick:Z},n),[i("div",{class:"v-field__overlay"},null),c(Ne,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),x&&i("div",{key:"prepend",class:"v-field__prepend-inner"},[t["prepend-inner"]?t["prepend-inner"](m.value):e.prependInnerIcon&&c(E,{key:"prepend-icon",name:"prependInner",color:b.value},null)]),i("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&y.value&&c(K,A({key:"floating-label",ref:$,class:[B.value],floating:!0},R.value,{style:z.value}),{default:()=>[f()]}),F.value&&c(K,A({key:"label",ref:U,id:e.labelId},q.value),{default:()=>[f()]}),t.default?.({...m.value,props:{id:w.value,class:"v-field__input","aria-describedby":W.value},focus:h,blur:k})??i("div",{id:w.value,class:"v-field__input","aria-describedby":W.value},null)]),S&&c(Le,{key:"clear"},{default:()=>[oe(i("div",{class:"v-field__clearable",onMousedown:N=>{N.preventDefault(),N.stopPropagation()}},[c(Te,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...m.value,props:{onFocus:h,onBlur:k,onClick:e["onClick:clear"],tabindex:-1}}):c(E,{name:"clear",onFocus:h,onBlur:k,tabindex:-1},null)]})]),[[ve,e.dirty]])]}),_&&i("div",{key:"append",class:"v-field__append-inner"},[t["append-inner"]?t["append-inner"](m.value):e.appendInnerIcon&&c(E,{key:"append-icon",name:"appendInner",color:b.value},null)]),i("div",{class:J(["v-field__outline",B.value]),style:se(z.value)},[d&&i(Q,null,[i("div",{class:"v-field__outline__start"},null),y.value&&i("div",{class:"v-field__outline__notch"},[c(K,A({ref:$,floating:!0},R.value),{default:()=>[f()]})]),i("div",{class:"v-field__outline__end"},null)]),s.value&&y.value&&c(K,A({ref:$,floating:!0},R.value),{default:()=>[f()]})])])}),{controlRef:H,fieldIconColor:b}}}),lt=O({autocomplete:String},"autocomplete");function nt(e){const l=me(),n=Oe(0),a=C(()=>e.autocomplete==="suppress"),t=C(()=>{if(e.name)return a.value?`${e.name}-${l}-${n.value}`:e.name}),o=C(()=>a.value?"off":e.autocomplete);return{isSuppressing:a,fieldAutocomplete:o,fieldName:t,update:()=>n.value=new Date().getTime()}}function at(e){function l(n,a){if(!e.autofocus||!n)return;const t=a[0].target;(t.matches("input,textarea")?t:t.querySelector("input,textarea"))?.focus()}return{onIntersect:l}}const it=["color","file","time","date","datetime-local","week","month"],ot=O({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...lt(),...ge(Ke(),["direction"]),...ye()},"VTextField"),ft=X()({name:"VTextField",directives:{vIntersect:ce},inheritAttrs:!1,props:ot(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:n,emit:a,slots:t}=l;const o=We(e,"modelValue"),{isFocused:r,focus:g,blur:v}=he(e),{onIntersect:h}=at(e),k=I(()=>typeof e.counterValue=="function"?e.counterValue(o.value):typeof e.counterValue=="number"?e.counterValue:(o.value??"").toString().length),E=I(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),T=I(()=>["plain","underlined"].includes(e.variant)),L=D(),V=D(),F=D(),y=nt(e),ee=I(()=>it.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function w(){y.isSuppressing.value&&y.update(),r.value||g(),ie(()=>{F.value!==document.activeElement&&F.value?.focus()})}function W(s){a("mousedown:control",s),s.target!==F.value&&(w(),s.preventDefault())}function U(s){a("click:control",s)}function $(s,u){s.stopPropagation(),w(),ie(()=>{u(),ze(e["onClick:clear"],s)})}function H(s){const u=s.target;if(!(e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type))){o.value=u.value;return}const b=u.value,p=u.selectionStart,M=u.selectionEnd;o.value=b,ie(()=>{let B=0;b.trimStart().length===u.value.length&&(B=b.length-u.value.length),p!=null&&(u.selectionStart=p-B),M!=null&&(u.selectionEnd=M-B)})}return Y(()=>{const s=!!(t.counter||e.counter!==!1&&e.counter!=null),u=!!(s||t.details),[b,p]=Ue(n),{modelValue:M,...B}=de.filterProps(e),z=fe.filterProps(e);return c(de,A({ref:L,modelValue:o.value,"onUpdate:modelValue":m=>o.value=m,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":T.value},e.class],style:e.style},b,B,{centerAffix:!T.value,focused:r.value}),{...t,default:m=>{let{id:R,isDisabled:q,isDirty:Z,isReadonly:d,isValid:x,hasDetails:S,reset:_}=m;return c(fe,A({ref:V,onMousedown:W,onClick:U,"onClick:clear":f=>$(f,_),role:e.role},ge(z,["onClick:clear"]),{id:R.value,labelId:`${R.value}-label`,active:ee.value||Z.value,dirty:Z.value||e.dirty,disabled:q.value,focused:r.value,details:S.value,error:x.value===!1}),{...t,default:f=>{let{props:{class:N,...te},controlRef:j}=f;const G=i("input",A({ref:le=>F.value=j.value=le,value:o.value,onInput:H,autofocus:e.autofocus,readonly:d.value,disabled:q.value,name:y.fieldName.value,autocomplete:y.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:g,onBlur:v,"aria-labelledby":`${R.value}-label`},te,p),null);return i(Q,null,[e.prefix&&i("span",{class:"v-text-field__prefix"},[i("span",{class:"v-text-field__prefix__text"},[e.prefix])]),oe(t.default?i("div",{class:J(N),"data-no-activator":""},[t.default({id:R}),G]):He(G,{class:N}),[[ce,h,null,{once:!0}]]),e.suffix&&i("span",{class:"v-text-field__suffix"},[i("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:u?m=>i(Q,null,[t.details?.(m),s&&i(Q,null,[i("span",null,null),c(Je,{active:e.persistentCounter||r.value,value:k.value,max:E.value,disabled:e.disabled},t.counter)])]):void 0})}),Ge({},L,V,F)}});export{P as B,ft as V,Xe as a,fe as b,Je as c,at as d,lt as e,ot as f,ct as g,dt as h,ut as i,ye as m,Qe as n,nt as u};
//# sourceMappingURL=VTextField-B1pNa9Da.js.map
