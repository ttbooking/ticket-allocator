{"version":3,"file":"Index-DDaeavNi.js","sources":["../../../node_modules/vuetify/lib/components/VDialog/VDialog.js","../../../resources/js/pages/Factor/Index.vue"],"sourcesContent":["import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\n// Styles\nimport \"./VDialog.css\";\n\n// Components\nimport { VDialogTransition } from \"../transitions/index.js\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.js\";\nimport { VOverlay } from \"../VOverlay/index.js\";\nimport { makeVOverlayProps } from \"../VOverlay/VOverlay.js\"; // Composables\nimport { forwardRefs } from \"../../composables/forwardRefs.js\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.js\";\nimport { useScopeId } from \"../../composables/scopeId.js\"; // Utilities\nimport { mergeProps, nextTick, ref, watch } from 'vue';\nimport { genericComponent, omit, propsFactory, useRender } from \"../../util/index.js\"; // Types\nexport const makeVDialogProps = propsFactory({\n  fullscreen: Boolean,\n  scrollable: Boolean,\n  ...omit(makeVOverlayProps({\n    captureFocus: true,\n    origin: 'center center',\n    scrollStrategy: 'block',\n    transition: {\n      component: VDialogTransition\n    },\n    zIndex: 2400,\n    retainFocus: true\n  }), ['disableInitialFocus'])\n}, 'VDialog');\nexport const VDialog = genericComponent()({\n  name: 'VDialog',\n  props: makeVDialogProps(),\n  emits: {\n    'update:modelValue': value => true,\n    afterEnter: () => true,\n    afterLeave: () => true\n  },\n  setup(props, _ref) {\n    let {\n      emit,\n      slots\n    } = _ref;\n    const isActive = useProxiedModel(props, 'modelValue');\n    const {\n      scopeId\n    } = useScopeId();\n    const overlay = ref();\n    function onAfterEnter() {\n      emit('afterEnter');\n      if ((props.scrim || props.retainFocus) && overlay.value?.contentEl && !overlay.value.contentEl.contains(document.activeElement)) {\n        overlay.value.contentEl.focus({\n          preventScroll: true\n        });\n      }\n    }\n    function onAfterLeave() {\n      emit('afterLeave');\n    }\n    watch(isActive, async val => {\n      if (!val) {\n        await nextTick();\n        overlay.value.activatorEl?.focus({\n          preventScroll: true\n        });\n      }\n    });\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props);\n      const activatorProps = mergeProps({\n        'aria-haspopup': 'dialog'\n      }, props.activatorProps);\n      const contentProps = mergeProps({\n        tabindex: -1\n      }, props.contentProps);\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"class\": ['v-dialog', {\n          'v-dialog--fullscreen': props.fullscreen,\n          'v-dialog--scrollable': props.scrollable\n        }, props.class],\n        \"style\": props.style\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": $event => isActive.value = $event,\n        \"aria-modal\": \"true\",\n        \"activatorProps\": activatorProps,\n        \"contentProps\": contentProps,\n        \"height\": !props.fullscreen ? props.height : undefined,\n        \"width\": !props.fullscreen ? props.width : undefined,\n        \"maxHeight\": !props.fullscreen ? props.maxHeight : undefined,\n        \"maxWidth\": !props.fullscreen ? props.maxWidth : undefined,\n        \"role\": \"dialog\",\n        \"onAfterEnter\": onAfterEnter,\n        \"onAfterLeave\": onAfterLeave\n      }, scopeId), {\n        activator: slots.activator,\n        default: function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return _createVNode(VDefaultsProvider, {\n            \"root\": \"VDialog\"\n          }, {\n            default: () => [slots.default?.(...args)]\n          });\n        }\n      });\n    });\n    return forwardRefs({}, overlay);\n  }\n});\n//# sourceMappingURL=VDialog.js.map","<template>\n    <Head :title=\"$t('factors')\" />\n\n    <DefaultLayout>\n        <template #header>\n            <h2 class=\"text-xl leading-tight font-semibold text-gray-800\">{{ $t(\"factors\") }}</h2>\n        </template>\n\n        <div>\n            <v-data-table :headers=\"headers\" :items=\"factors\">\n                <template #top>\n                    <v-toolbar flat>\n                        <v-toolbar-title>{{ $t(\"factors\") }}</v-toolbar-title>\n                        <v-divider class=\"mx-4\" inset vertical />\n                        <v-spacer />\n                        <v-dialog v-model=\"dialog\" max-width=\"500px\">\n                            <template #activator=\"{ props }\">\n                                <v-btn color=\"primary\" dark v-bind=\"props\">{{ $t(\"new_factor\") }}</v-btn>\n                            </template>\n                            <v-card>\n                                <v-card-title>\n                                    <span class=\"text-h5\">{{ $t(\"choose_factor_type\") }}</span>\n                                </v-card-title>\n                                <v-card-text>\n                                    <v-container>\n                                        <v-row>\n                                            <v-col cols=\"12\" md=\"12\">\n                                                <v-select\n                                                    v-model=\"factorType\"\n                                                    :label=\"$t('factor_type')\"\n                                                    :items=\"factorDictionary\"\n                                                    item-title=\"name\"\n                                                    item-value=\"alias\"\n                                                />\n                                            </v-col>\n                                        </v-row>\n                                    </v-container>\n                                </v-card-text>\n                                <v-card-actions>\n                                    <v-spacer />\n                                    <v-btn color=\"primary\" dark @click=\"close\">{{ $t(\"cancel\") }}</v-btn>\n                                    <v-btn\n                                        :key=\"factorType\"\n                                        :to=\"route('ticket-allocator.factors.create', { type: factorType })\"\n                                        :disabled=\"!factorType\"\n                                        color=\"primary\"\n                                        dark\n                                        @click=\"close\"\n                                    >\n                                        {{ $t(\"create\") }}\n                                    </v-btn>\n                                </v-card-actions>\n                            </v-card>\n                        </v-dialog>\n                    </v-toolbar>\n                </template>\n                <template #[`item.active`]=\"{ item }\">\n                    <Link\n                        as=\"span\"\n                        :href=\"route('ticket-allocator.factors.update', item.uuid)\"\n                        method=\"patch\"\n                        :data=\"{ active: !!item.deleted_at }\"\n                    >\n                        <v-checkbox-btn :model-value=\"!item.deleted_at\" />\n                    </Link>\n                </template>\n                <template #[`item.type.name`]=\"{ item }\">\n                    <span :class=\"{ italic: item.type.excluded }\">{{ item.type.name }}</span>\n                </template>\n                <template #[`item.name`]=\"{ item }\">\n                    <span :class=\"{ italic: item.type.excluded && !item.display_name }\">\n                        {{ item.name }}\n                    </span>\n                </template>\n                <template #[`item.actions`]=\"{ item }\">\n                    <v-btn\n                        :to=\"route('ticket-allocator.factors.edit', item.uuid)\"\n                        icon=\"mdi-pencil\"\n                        :title=\"$t('edit')\"\n                        size=\"small\"\n                        variant=\"plain\"\n                    />\n                    <v-btn-ex\n                        :to=\"route('ticket-allocator.factors.raise-priority', item.uuid)\"\n                        method=\"put\"\n                        icon=\"mdi-arrow-up-thick\"\n                        :title=\"$t('raise_priority')\"\n                        size=\"small\"\n                        variant=\"plain\"\n                    />\n                    <v-btn-ex\n                        :to=\"route('ticket-allocator.factors.lower-priority', item.uuid)\"\n                        method=\"put\"\n                        icon=\"mdi-arrow-down-thick\"\n                        :title=\"$t('lower_priority')\"\n                        size=\"small\"\n                        variant=\"plain\"\n                    />\n                    <v-btn-ex\n                        :to=\"route('ticket-allocator.factors.destroy', item.uuid)\"\n                        method=\"delete\"\n                        icon=\"mdi-delete\"\n                        :title=\"$t('remove')\"\n                        size=\"small\"\n                        variant=\"plain\"\n                    />\n                </template>\n            </v-data-table>\n        </div>\n    </DefaultLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport DefaultLayout from \"@/layouts/Default.vue\";\nimport { ref, computed } from \"vue\";\nimport { Head, Link } from \"@inertiajs/vue3\";\nimport type { Factor, FactorType } from \"@/types\";\nimport { useI18n } from \"vue-i18n\";\nimport { route } from \"ziggy-js\";\n\ndefineProps<{\n    factors: Factor[];\n    factorDictionary: FactorType[];\n}>();\n\nconst { t } = useI18n();\n\nconst headers = computed(() => [\n    { title: t(\"active\"), key: \"active\", sortable: false },\n    { title: t(\"type\"), key: \"type.name\", sortable: false },\n    { title: t(\"name\"), key: \"name\", sortable: false },\n    { title: t(\"description\"), key: \"description\", sortable: false },\n    { title: t(\"actions\"), key: \"actions\", sortable: false },\n]);\n\nconst dialog = ref();\nconst factorType = ref();\n\nfunction close() {\n    dialog.value = null;\n}\n</script>\n"],"names":["makeVDialogProps","propsFactory","omit","makeVOverlayProps","VDialogTransition","VDialog","genericComponent","value","props","_ref","emit","slots","isActive","useProxiedModel","scopeId","useScopeId","overlay","ref","onAfterEnter","onAfterLeave","watch","val","nextTick","useRender","overlayProps","VOverlay","activatorProps","mergeProps","contentProps","_createVNode","_mergeProps","$event","_len","args","_key","VDefaultsProvider","forwardRefs","t","useI18n","headers","computed","dialog","factorType","close","_unref","Head","$t","DefaultLayout","_createElementVNode","_hoisted_1","_toDisplayString","_component_v_data_table","__props","_component_v_toolbar","_component_v_toolbar_title","_component_v_divider","_component_v_spacer","_component_v_dialog","_withCtx","_component_v_btn","_component_v_card","_component_v_card_title","_hoisted_2","_component_v_card_text","_component_v_container","_component_v_row","_component_v_col","_component_v_select","_component_v_card_actions","_createBlock","route","item","Link","_component_v_checkbox_btn","_normalizeClass","_component_v_btn_ex"],"mappings":"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","x_google_ignoreList":[0]}