{"version":3,"file":"AssociationForm-D9Q4xql-.js","sources":["../../../resources/js/pages/Factor/Partials/AssociationForm.vue"],"sourcesContent":["<template>\n    <v-row>\n        <v-col cols=\"12\" md=\"12\">\n            <v-data-table :headers=\"headers\" :items=\"config\" density=\"compact\">\n                <template #top>\n                    <v-toolbar flat>\n                        <v-toolbar-title>{{ $t(\"entries\") }}</v-toolbar-title>\n                        <v-divider class=\"mx-4\" inset vertical />\n                        <v-spacer />\n                        <v-btn color=\"primary\" dark :disabled=\"getEntries().length === 0\" @click=\"addEntry\">\n                            {{ $t(\"new_entry\") }}\n                        </v-btn>\n                    </v-toolbar>\n                </template>\n                <template #[`item.value`]=\"{ item }\">\n                    <v-autocomplete\n                        v-model=\"item.value\"\n                        :items=\"getEntries(item.value)\"\n                        item-title=\"name\"\n                        item-value=\"uuid\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.initial_weight`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.initial_weight\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"9999999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.weight_increment`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.weight_increment\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"99999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.complexity`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.complexity\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"9999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.delay`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.delay\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"99999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.reservation`]=\"{ item }\">\n                    <v-text-field\n                        v-model.number=\"item.reservation\"\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"99999\"\n                        placeholder=\"0\"\n                        variant=\"plain\"\n                        density=\"compact\"\n                        hide-details=\"auto\"\n                    />\n                </template>\n                <template #[`item.actions`]=\"{ item }\">\n                    <v-btn\n                        icon=\"mdi-delete\"\n                        :title=\"$t('remove')\"\n                        size=\"small\"\n                        variant=\"plain\"\n                        @click=\"removeEntry(item.value)\"\n                    />\n                </template>\n            </v-data-table>\n        </v-col>\n    </v-row>\n</template>\n\n<script setup lang=\"ts\">\nimport type { AssociativeFactorConfig, Entry } from \"@/types\";\nimport { useI18n } from \"vue-i18n\";\nimport { computed } from \"vue\";\n\nconst props = defineProps<{\n    entries: Entry[];\n    modelValue: AssociativeFactorConfig;\n}>();\n\nconst emit = defineEmits<{\n    (e: \"update:modelValue\", value: AssociativeFactorConfig): void;\n}>();\n\nconst config = computed<AssociativeFactorConfig>({\n    get() {\n        return props.modelValue;\n    },\n    set(value) {\n        emit(\"update:modelValue\", value);\n    },\n});\n\nconst { t } = useI18n();\n\nconst headers = computed(() => [\n    { title: t(\"value\"), key: \"value\" },\n    { title: t(\"initial_weight\"), key: \"initial_weight\" },\n    { title: t(\"weight_increment\"), key: \"weight_increment\" },\n    { title: t(\"complexity\"), key: \"complexity\" },\n    { title: t(\"delay_sec\"), key: \"delay\" },\n    { title: t(\"reservation_sec\"), key: \"reservation\" },\n    { title: t(\"actions\"), key: \"actions\", sortable: false },\n]);\n\nfunction getEntries(uuid?: string) {\n    return props.entries.filter(\n        (entry) => entry.uuid === uuid || !config.value.map((item) => item.value).includes(entry.uuid),\n    );\n}\n\nfunction addEntry() {\n    config.value.push({\n        value: getEntries()[0]?.uuid ?? \"\",\n        initial_weight: null,\n        weight_increment: null,\n        complexity: null,\n        delay: null,\n        reservation: null,\n    });\n}\n\nfunction removeEntry(id: number | string) {\n    config.value = config.value.filter((entry) => entry.value !== id);\n}\n</script>\n"],"names":["props","__props","emit","__emit","config","computed","value","t","useI18n","headers","getEntries","uuid","entry","item","addEntry","_a","removeEntry","id"],"mappings":"ymBAwGA,MAAMA,EAAQC,EAKRC,EAAOC,EAIPC,EAASC,EAAkC,CAC7C,KAAM,CACF,OAAOL,EAAM,UACjB,EACA,IAAIM,EAAO,CACPJ,EAAK,oBAAqBI,CAAK,CAAA,CACnC,CACH,EAEK,CAAE,EAAAC,CAAE,EAAIC,EAAQ,EAEhBC,EAAUJ,EAAS,IAAM,CAC3B,CAAE,MAAOE,EAAE,OAAO,EAAG,IAAK,OAAQ,EAClC,CAAE,MAAOA,EAAE,gBAAgB,EAAG,IAAK,gBAAiB,EACpD,CAAE,MAAOA,EAAE,kBAAkB,EAAG,IAAK,kBAAmB,EACxD,CAAE,MAAOA,EAAE,YAAY,EAAG,IAAK,YAAa,EAC5C,CAAE,MAAOA,EAAE,WAAW,EAAG,IAAK,OAAQ,EACtC,CAAE,MAAOA,EAAE,iBAAiB,EAAG,IAAK,aAAc,EAClD,CAAE,MAAOA,EAAE,SAAS,EAAG,IAAK,UAAW,SAAU,EAAM,CAAA,CAC1D,EAED,SAASG,EAAWC,EAAe,CAC/B,OAAOX,EAAM,QAAQ,OAChBY,GAAUA,EAAM,OAASD,GAAQ,CAACP,EAAO,MAAM,IAAKS,GAASA,EAAK,KAAK,EAAE,SAASD,EAAM,IAAI,CACjG,CAAA,CAGJ,SAASE,GAAW,OAChBV,EAAO,MAAM,KAAK,CACd,QAAOW,EAAAL,EAAa,EAAA,CAAC,IAAd,YAAAK,EAAiB,OAAQ,GAChC,eAAgB,KAChB,iBAAkB,KAClB,WAAY,KACZ,MAAO,KACP,YAAa,IAAA,CAChB,CAAA,CAGL,SAASC,EAAYC,EAAqB,CAC/Bb,EAAA,MAAQA,EAAO,MAAM,OAAQQ,GAAUA,EAAM,QAAUK,CAAE,CAAA"}