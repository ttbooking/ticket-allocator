{"version":3,"file":"CreateEdit-D6r0qDFv.js","sources":["../../../resources/js/pages/Operator/CreateEdit.vue"],"sourcesContent":["<template>\n    <Head :title=\"$t(operator ? 'edit_operator' : 'new_operator')\" />\n\n    <DefaultLayout>\n        <template #header>\n            <h2 class=\"text-xl leading-tight font-semibold text-gray-800\">\n                {{ $t(operator ? \"edit_operator\" : \"new_operator\") }}\n            </h2>\n        </template>\n\n        <div>\n            <v-form @submit.prevent=\"submit\">\n                <v-container>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-text-field\n                                v-if=\"operator\"\n                                :model-value=\"operator.user?.name\"\n                                :label=\"$t('user')\"\n                                readonly\n                            />\n                            <v-autocomplete\n                                v-else\n                                v-model=\"form.user\"\n                                :label=\"$t('user')\"\n                                :items=\"users\"\n                                item-title=\"name\"\n                                item-value=\"id\"\n                                :error-messages=\"errors.user\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-text-field\n                                v-model=\"form.name\"\n                                maxlength=\"255\"\n                                :label=\"$t('display_name')\"\n                                :placeholder=\"name\"\n                                :persistent-placeholder=\"!!name.length\"\n                                :error-messages=\"errors.name\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"6\">\n                            <v-text-field\n                                v-model.number=\"form.ticket_limit\"\n                                type=\"number\"\n                                min=\"1\"\n                                max=\"100\"\n                                :label=\"$t('ticket_limit')\"\n                                placeholder=\"&infin;\"\n                                persistent-placeholder\n                                :error-messages=\"errors.ticket_limit\"\n                            />\n                        </v-col>\n                        <v-col cols=\"12\" md=\"6\">\n                            <v-text-field\n                                v-model.number=\"form.complexity_limit\"\n                                type=\"number\"\n                                min=\"1\"\n                                max=\"1000\"\n                                :label=\"$t('complexity_limit')\"\n                                placeholder=\"&infin;\"\n                                persistent-placeholder\n                                :error-messages=\"errors.complexity_limit\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-autocomplete\n                                v-model=\"form.teams\"\n                                multiple\n                                clearable\n                                chips\n                                closable-chips\n                                :label=\"$t('teams')\"\n                                :items=\"teams\"\n                                item-title=\"name\"\n                                item-value=\"uuid\"\n                                :error-messages=\"errors.teams\"\n                            />\n                        </v-col>\n                    </v-row>\n                    <v-row>\n                        <v-col cols=\"12\" md=\"12\">\n                            <v-btn type=\"submit\" color=\"primary\" class=\"mr-3\" :disabled=\"form.processing\">\n                                {{ $t(\"save\") }}\n                            </v-btn>\n                            <v-btn :to=\"route('ticket-allocator.operators.index')\" class=\"mr-3\">\n                                {{ $t(\"cancel\") }}\n                            </v-btn>\n                        </v-col>\n                    </v-row>\n                </v-container>\n            </v-form>\n        </div>\n    </DefaultLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport DefaultLayout from \"@/layouts/Default.vue\";\nimport { Head, useForm } from \"@inertiajs/vue3\";\nimport { computed } from \"vue\";\nimport type { User, Operator, OperatorTeam } from \"@/types\";\nimport { route } from \"ziggy-js\";\n\nconst props = defineProps<{\n    users: User[];\n    operator?: Operator;\n    teams: OperatorTeam[];\n    errors: Record<string, string>;\n}>();\n\nconst form = useForm<{\n    user: number | null;\n    name: string | null;\n    ticket_limit: number | null;\n    complexity_limit: number | null;\n    teams: string[];\n}>({\n    user: null,\n    name: props.operator?.display_name ?? \"\",\n    ticket_limit: props.operator?.ticket_limit ?? null,\n    complexity_limit: props.operator?.complexity_limit ?? null,\n    teams: props.operator?.teams.map((team) => team.uuid) ?? [],\n});\n\nconst name = computed(() => {\n    const name = props.operator?.user?.name;\n    if (name) return name;\n\n    const index = props.users.findIndex((user) => user.id === form.user);\n    return index < 0 ? \"\" : props.users[index].name;\n});\n\nfunction submit() {\n    props.operator\n        ? form.put(route(\"ticket-allocator.operators.update\", props.operator.uuid))\n        : form.post(route(\"ticket-allocator.operators.store\"));\n}\n</script>\n"],"names":["props","__props","form","useForm","_a","_b","_c","_d","team","name","computed","index","user","submit","route","_createVNode","_unref","Head","$t","operator","DefaultLayout","_createElementVNode","_hoisted_1","_component_v_form","_component_v_container","_component_v_row","_component_v_col","_createBlock","_component_v_text_field","_component_v_autocomplete","_cache","$event","users","errors","teams","_component_v_btn"],"mappings":"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"}