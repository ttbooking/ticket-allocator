import{g as B,p as S,C as A,N as F,r as C,ao as I,ap as L,w as P,I as z,a as R,m as w,b as e,aq as N,ar as U,R as O,T as W,c as H,as as q,X as M,Y as T,a3 as c,ah as X,Z as l,d as y,V as _,a9 as v,e as $,a1 as u,at as Y,a2 as E,au as Z,_ as j,an as G,F as J}from"./app-CgM7B95C.js";import{V as K,a as Q,b as ee,c as x}from"./VToolbar-T_8zYJGx.js";import{V as te}from"./VCheckboxBtn-Cjuctwn2.js";import{b as D,c as ae,d as le,e as oe}from"./filter-BuSi9GL_.js";import{f as ne}from"./VInput-DHyvqDWO.js";import{V as re,b as se,a as ie,c as ce}from"./VCard-qnNpgyjw.js";import{V as ue}from"./VContainer-4juMoD2d.js";import{V as de,a as fe}from"./VRow-Di-nvaUI.js";/* empty css              */import"./VTable-uNkDMUeI.js";import"./VSelectionControl-BMNfdPI5.js";import"./VTextField-JGNfAWvE.js";const me=S({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ae({origin:"center center",scrollStrategy:"block",transition:{component:le},zIndex:2400})},"VDialog"),ve=B()({name:"VDialog",props:me(),emits:{"update:modelValue":o=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(o,d){let{emit:g,slots:f}=d;const n=A(o,"modelValue"),{scopeId:b}=F(),t=C();function s(i){const k=i.relatedTarget,V=i.target;if(k!==V&&t.value?.contentEl&&t.value?.globalTop&&![document,t.value.contentEl].includes(V)&&!t.value.contentEl.contains(V)){const r=U(t.value.contentEl);if(!r.length)return;const h=r[0],m=r[r.length-1];k===h?m.focus():h.focus()}}I(()=>{document.removeEventListener("focusin",s)}),L&&P(()=>n.value&&o.retainFocus,i=>{i?document.addEventListener("focusin",s):document.removeEventListener("focusin",s)},{immediate:!0});function p(){g("afterEnter"),(o.scrim||o.retainFocus)&&t.value?.contentEl&&!t.value.contentEl.contains(document.activeElement)&&t.value.contentEl.focus({preventScroll:!0})}function a(){g("afterLeave")}return P(n,async i=>{i||(await z(),t.value.activatorEl?.focus({preventScroll:!0}))}),R(()=>{const i=D.filterProps(o),k=w({"aria-haspopup":"dialog"},o.activatorProps),V=w({tabindex:-1},o.contentProps);return e(D,w({ref:t,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},i,{modelValue:n.value,"onUpdate:modelValue":r=>n.value=r,"aria-modal":"true",activatorProps:k,contentProps:V,height:o.fullscreen?void 0:o.height,width:o.fullscreen?void 0:o.width,maxHeight:o.fullscreen?void 0:o.maxHeight,maxWidth:o.fullscreen?void 0:o.maxWidth,role:"dialog",onAfterEnter:p,onAfterLeave:a},b),{activator:f.activator,default:function(){for(var r=arguments.length,h=new Array(r),m=0;m<r;m++)h[m]=arguments[m];return e(N,{root:"VDialog"},{default:()=>[f.default?.(...h)]})}})}),ne({},t)}}),pe={class:"text-xl leading-tight font-semibold text-gray-800"},Ve={class:"text-h5"},xe=O({__name:"Index",props:{factors:{},factorDictionary:{}},setup(o){const{t:d}=W(),g=H(()=>[{title:d("active"),key:"active",sortable:!1},{title:d("type"),key:"type.name",sortable:!1},{title:d("name"),key:"name",sortable:!1},{title:d("description"),key:"description",sortable:!1},{title:d("actions"),key:"actions",sortable:!1}]),f=C(),n=C();function b(){f.value=null}return(t,s)=>{const p=q("v-btn-ex");return T(),M(J,null,[e(c(X),{title:t.$t("factors")},null,8,["title"]),e(G,null,{header:l(()=>[y("h2",pe,u(t.$t("factors")),1)]),default:l(()=>[y("div",null,[e(K,{headers:g.value,items:t.factors},{top:l(()=>[e(Q,{flat:""},{default:l(()=>[e(ee,null,{default:l(()=>[E(u(t.$t("factors")),1)]),_:1}),e(Z,{class:"mx-4",inset:"",vertical:""}),e(x),e(ve,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=a=>f.value=a),"max-width":"500px"},{activator:l(({props:a})=>[e(_,w({color:"primary",dark:""},a),{default:l(()=>[E(u(t.$t("new_factor")),1)]),_:2},1040)]),default:l(()=>[e(re,null,{default:l(()=>[e(se,null,{default:l(()=>[y("span",Ve,u(t.$t("choose_factor_type")),1)]),_:1}),e(ie,null,{default:l(()=>[e(ue,null,{default:l(()=>[e(de,null,{default:l(()=>[e(fe,{cols:"12",md:"12"},{default:l(()=>[e(oe,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a),label:t.$t("factor_type"),items:t.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(ce,null,{default:l(()=>[e(x),e(_,{color:"primary",dark:"",onClick:b},{default:l(()=>[E(u(t.$t("cancel")),1)]),_:1}),(T(),j(_,{key:n.value,to:c(v)("ticket-allocator.factors.create",{type:n.value}),disabled:!n.value,color:"primary",dark:"",onClick:b},{default:l(()=>[E(u(t.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":l(({item:a})=>[e(c(Y),{as:"span",href:c(v)("ticket-allocator.factors.update",a.uuid),method:"patch",data:{active:!!a.deleted_at}},{default:l(()=>[e(te,{"model-value":!a.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":l(({item:a})=>[y("span",{class:$({italic:a.type.excluded})},u(a.type.name),3)]),"item.name":l(({item:a})=>[y("span",{class:$({italic:a.type.excluded&&!a.display_name})},u(a.name),3)]),"item.actions":l(({item:a})=>[e(_,{to:c(v)("ticket-allocator.factors.edit",a.uuid),icon:"mdi-pencil",title:t.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),e(p,{to:c(v)("ticket-allocator.factors.raise-priority",a.uuid),method:"put",icon:"mdi-arrow-up-thick",title:t.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(p,{to:c(v)("ticket-allocator.factors.lower-priority",a.uuid),method:"put",icon:"mdi-arrow-down-thick",title:t.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(p,{to:c(v)("ticket-allocator.factors.destroy",a.uuid),method:"delete",icon:"mdi-delete",title:t.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{xe as default};
//# sourceMappingURL=Index-Bpb7JzNO.js.map
