import{g as E,p as T,G as B,O as A,r as k,w as F,v as S,b as z,m as b,d as e,ar as I,o as L,U,X as N,c as O,as as R,_ as H,$ as w,a6 as i,ak as W,a0 as l,e as m,V as h,ac as d,f as x,a4 as s,at as q,a5 as g,au as G,a1 as M,aq as X,F as j}from"./app-B9kLCyNm.js";import{V as J,a as K,b as Q,c as C}from"./VToolbar-Bqpqe9V5.js";import{V as Y}from"./VCheckboxBtn-DtlJvuHn.js";import{b as $,c as Z,d as ee,e as ae}from"./filter-BJg-IZCL.js";import{f as te}from"./VInput-B13Nw2G-.js";import{V as le,b as oe,a as re,c as ie}from"./VCard-hiwKNkbM.js";import{V as se}from"./VContainer-XFF2d5ZF.js";import{V as ne,a as ce}from"./VRow-B02uog4x.js";/* empty css              */import"./VTable-BqMRyGth.js";import"./VSelectionControl-CBviLsjk.js";import"./VTextField-CRELOfax.js";const ue=T({fullscreen:Boolean,scrollable:Boolean,...L(Z({captureFocus:!0,origin:"center center",scrollStrategy:"block",transition:{component:ee},zIndex:2400,retainFocus:!0}),["disableInitialFocus"])},"VDialog"),de=E()({name:"VDialog",props:ue(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,n){let{emit:v,slots:c}=n;const r=B(t,"modelValue"),{scopeId:p}=A(),o=k();function u(){v("afterEnter"),(t.scrim||t.retainFocus)&&o.value?.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function f(){v("afterLeave")}return F(r,async a=>{a||(await S(),o.value.activatorEl?.focus({preventScroll:!0}))}),z(()=>{const a=$.filterProps(t),P=b({"aria-haspopup":"dialog"},t.activatorProps),D=b({tabindex:-1},t.contentProps);return e($,b({ref:o,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},a,{modelValue:r.value,"onUpdate:modelValue":V=>r.value=V,"aria-modal":"true",activatorProps:P,contentProps:D,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:u,onAfterLeave:f},p),{activator:c.activator,default:function(){for(var V=arguments.length,_=new Array(V),y=0;y<V;y++)_[y]=arguments[y];return e(I,{root:"VDialog"},{default:()=>[c.default?.(..._)]})}})}),te({},o)}}),fe={class:"text-xl leading-tight font-semibold text-gray-800"},me={class:"text-h5"},$e=U({__name:"Index",props:{factors:{},factorDictionary:{}},setup(t){const{t:n}=N(),v=O(()=>[{title:n("active"),key:"active",sortable:!1},{title:n("type"),key:"type.name",sortable:!1},{title:n("name"),key:"name",sortable:!1},{title:n("description"),key:"description",sortable:!1},{title:n("actions"),key:"actions",sortable:!1}]),c=k(),r=k();function p(){c.value=null}return(o,u)=>{const f=R("v-btn-ex");return w(),H(j,null,[e(i(W),{title:o.$t("factors")},null,8,["title"]),e(X,null,{header:l(()=>[m("h2",fe,s(o.$t("factors")),1)]),default:l(()=>[m("div",null,[e(J,{headers:v.value,items:t.factors},{top:l(()=>[e(K,{flat:""},{default:l(()=>[e(Q,null,{default:l(()=>[g(s(o.$t("factors")),1)]),_:1}),e(G,{class:"mx-4",inset:"",vertical:""}),e(C),e(de,{modelValue:c.value,"onUpdate:modelValue":u[1]||(u[1]=a=>c.value=a),"max-width":"500px"},{activator:l(({props:a})=>[e(h,b({color:"primary",dark:""},a),{default:l(()=>[g(s(o.$t("new_factor")),1)]),_:1},16)]),default:l(()=>[e(le,null,{default:l(()=>[e(oe,null,{default:l(()=>[m("span",me,s(o.$t("choose_factor_type")),1)]),_:1}),e(re,null,{default:l(()=>[e(se,null,{default:l(()=>[e(ne,null,{default:l(()=>[e(ce,{cols:"12",md:"12"},{default:l(()=>[e(ae,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=a=>r.value=a),label:o.$t("factor_type"),items:t.factorDictionary,"item-title":"name","item-value":"alias"},null,8,["modelValue","label","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(ie,null,{default:l(()=>[e(C),e(h,{color:"primary",dark:"",onClick:p},{default:l(()=>[g(s(o.$t("cancel")),1)]),_:1}),(w(),M(h,{key:r.value,to:i(d)("ticket-allocator.factors.create",{type:r.value}),disabled:!r.value,color:"primary",dark:"",onClick:p},{default:l(()=>[g(s(o.$t("create")),1)]),_:1},8,["to","disabled"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.active":l(({item:a})=>[e(i(q),{as:"span",href:i(d)("ticket-allocator.factors.update",a.uuid),method:"patch",data:{active:!!a.deleted_at}},{default:l(()=>[e(Y,{"model-value":!a.deleted_at},null,8,["model-value"])]),_:2},1032,["href","data"])]),"item.type.name":l(({item:a})=>[m("span",{class:x({italic:a.type.excluded})},s(a.type.name),3)]),"item.name":l(({item:a})=>[m("span",{class:x({italic:a.type.excluded&&!a.display_name})},s(a.name),3)]),"item.actions":l(({item:a})=>[e(h,{to:i(d)("ticket-allocator.factors.edit",a.uuid),icon:"mdi-pencil",title:o.$t("edit"),size:"small",variant:"plain"},null,8,["to","title"]),e(f,{to:i(d)("ticket-allocator.factors.raise-priority",a.uuid),method:"put",icon:"mdi-arrow-up-thick",title:o.$t("raise_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(f,{to:i(d)("ticket-allocator.factors.lower-priority",a.uuid),method:"put",icon:"mdi-arrow-down-thick",title:o.$t("lower_priority"),size:"small",variant:"plain"},null,8,["to","title"]),e(f,{to:i(d)("ticket-allocator.factors.destroy",a.uuid),method:"delete",icon:"mdi-delete",title:o.$t("remove"),size:"small",variant:"plain"},null,8,["to","title"])]),_:2},1032,["headers","items"])])]),_:1})],64)}}});export{$e as default};
//# sourceMappingURL=Index-DPHr08Ho.js.map
