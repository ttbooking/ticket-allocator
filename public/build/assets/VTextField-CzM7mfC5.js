import{g as Y,p as z,y as B,b as J,d as c,z as se,K as fe,e as i,n as X,f as U,M as be,c0 as xe,D as re,cf as Ce,i as Ve,aD as we,aG as Se,j as _e,aU as ve,c as _,r as L,a as Ie,u as ke,w as Pe,P as Fe,A as Be,aK as Re,ar as Ae,c7 as Ne,F as K,m as Q,B as Te,aN as Ee,aQ as $e,bF as ne,ax as ie,s as De,t as Le,aW as ue,G as pe,aV as Me,o as Oe,cg as We,v as oe,a$ as Ue}from"./app-D4o36mDm.js";import{e as ze,g as qe,u as me,a as Ze,V as ce,f as je,m as Ge}from"./VInput-CgRl9SXF.js";class I{constructor(l){const a=document.body.currentCSSZoom??1,n=l instanceof Element,t=n?1+(1-a)/a:1,{x:o,y:r,width:y,height:f}=n?l.getBoundingClientRect():l;this.x=o*t,this.y=r*t,this.width=y*t,this.height=f*t}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function st(e,l){return{x:{before:Math.max(0,l.left-e.left),after:Math.max(0,e.right-l.right)},y:{before:Math.max(0,l.top-e.top),after:Math.max(0,e.bottom-l.bottom)}}}function rt(e){if(Array.isArray(e)){const l=document.body.currentCSSZoom??1,a=1+(1-l)/l;return new I({x:e[0]*a,y:e[1]*a,width:0*a,height:0*a})}else return new I(e)}function ut(e){if(e===document.documentElement)if(visualViewport){const l=document.body.currentCSSZoom??1;return new I({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale/l,height:visualViewport.height*visualViewport.scale/l})}else return new I({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});else return new I(e)}function He(e){const l=new I(e),a=getComputedStyle(e),n=a.transform;if(n){let t,o,r,y,f;if(n.startsWith("matrix3d("))t=n.slice(9,-1).split(/, /),o=Number(t[0]),r=Number(t[5]),y=Number(t[12]),f=Number(t[13]);else if(n.startsWith("matrix("))t=n.slice(7,-1).split(/, /),o=Number(t[0]),r=Number(t[3]),y=Number(t[4]),f=Number(t[5]);else return new I(l);const b=a.transformOrigin,k=l.x-y-(1-o)*parseFloat(b),R=l.y-f-(1-r)*parseFloat(b.slice(b.indexOf(" ")+1)),A=o?l.width/o:e.offsetWidth+1,N=r?l.height/r:e.offsetHeight+1;return new I({x:k,y:R,width:A,height:N})}else return new I(l)}function Ke(e,l,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let n;try{n=e.animate(l,a)}catch{return{finished:Promise.resolve()}}return typeof n.finished>"u"&&(n.finished=new Promise(t=>{n.onfinish=()=>{t(n)}})),n}const Qe=z({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...re(),...xe({transition:{component:Ce}})},"VCounter"),Xe=Y()({name:"VCounter",functional:!0,props:Qe(),setup(e,l){let{slots:a}=l;const n=B(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return J(()=>c(be,{transition:e.transition},{default:()=>[se(i("div",{class:U(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:X(e.style)},[a.default?a.default({counter:n.value,max:e.max,value:e.value}):n.value]),[[fe,e.active]])]})),{}}}),Ye=z({floating:Boolean,...re()},"VFieldLabel"),H=Y()({name:"VFieldLabel",props:Ye(),setup(e,l){let{slots:a}=l;return J(()=>c(ze,{class:U(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:X(e.style)},a)),{}}}),Je=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ge=z({appendInnerIcon:ie,bgColor:String,clearable:Boolean,clearIcon:{type:ie,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:ie,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Je.includes(e)},"onClick:clear":ne(),"onClick:appendInner":ne(),"onClick:prependInner":ne(),...re(),...$e(),...Ee(),...Te()},"VField"),de=Y()({name:"VField",inheritAttrs:!1,props:{id:String,details:Boolean,labelId:String,...qe(),...ge()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:a,emit:n,slots:t}=l;const{themeClasses:o}=Ve(e),{loaderClasses:r}=we(e),{focusClasses:y,isFocused:f,focus:b,blur:k}=me(e),{InputIcon:R}=Ze(e),{roundedClasses:A}=Se(e),{rtlClasses:N}=_e(),v=B(()=>e.dirty||e.active),P=B(()=>!!(e.label||t.label)),x=B(()=>!e.singleLine&&P.value),ee=ve(),m=_(()=>e.id||`input-${ee}`),q=B(()=>e.details?`${m.value}-messages`:void 0),Z=L(),T=L(),j=L(),s=_(()=>["plain","underlined"].includes(e.variant)),u=_(()=>e.error||e.disabled?void 0:v.value&&f.value?e.color:e.baseColor),C=_(()=>{if(!(!e.iconColor||e.glow&&!f.value))return e.iconColor===!0?u.value:e.iconColor}),{backgroundColorClasses:E,backgroundColorStyles:p}=Ie(()=>e.bgColor),{textColorClasses:F,textColorStyles:G}=ke(u);Pe(v,V=>{if(x.value&&!Fe()){const h=Z.value.$el,w=T.value.$el;requestAnimationFrame(()=>{const S=He(h),d=w.getBoundingClientRect(),D=d.x-S.x,M=d.y-S.y-(S.height/2-d.height/2),O=d.width/.75,te=Math.abs(O-S.width)>1?{maxWidth:Be(O)}:void 0,le=getComputedStyle(h),W=getComputedStyle(w),ae=parseFloat(le.transitionDuration)*1e3||150,he=parseFloat(W.getPropertyValue("--v-field-label-scale")),ye=W.getPropertyValue("color");h.style.visibility="visible",w.style.visibility="hidden",Ke(h,{transform:`translate(${D}px, ${M}px) scale(${he})`,color:ye,...te},{duration:ae,easing:De,direction:V?"normal":"reverse"}).finished.then(()=>{h.style.removeProperty("visibility"),w.style.removeProperty("visibility")})})}},{flush:"post"});const g=_(()=>({isActive:v,isFocused:f,controlRef:j,iconColor:C,blur:k,focus:b}));function $(V){V.target!==document.activeElement&&V.preventDefault()}return J(()=>{const V=e.variant==="outlined",h=!!(t["prepend-inner"]||e.prependInnerIcon),w=!!(e.clearable||t.clear)&&!e.disabled,S=!!(t["append-inner"]||e.appendInnerIcon||w),d=()=>t.label?t.label({...g.value,label:e.label,props:{for:m.value}}):e.label;return i("div",Q({class:["v-field",{"v-field--active":v.value,"v-field--appended":S,"v-field--center-affix":e.centerAffix??!s.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":h,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!d(),[`v-field--variant-${e.variant}`]:!0},o.value,E.value,y.value,r.value,A.value,N.value,e.class],style:[p.value,e.style],onClick:$},a),[i("div",{class:"v-field__overlay"},null),c(Re,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),h&&i("div",{key:"prepend",class:"v-field__prepend-inner"},[t["prepend-inner"]?t["prepend-inner"](g.value):e.prependInnerIcon&&c(R,{key:"prepend-icon",name:"prependInner",color:C.value},null)]),i("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&x.value&&c(H,{key:"floating-label",ref:T,class:U([F.value]),floating:!0,for:m.value,"aria-hidden":!v.value,style:X(G.value)},{default:()=>[d()]}),P.value&&c(H,{key:"label",ref:Z,id:e.labelId,for:m.value,"aria-hidden":x.value&&v.value},{default:()=>[d()]}),t.default?.({...g.value,props:{id:m.value,class:"v-field__input","aria-describedby":q.value},focus:b,blur:k})??i("div",{id:m.value,class:"v-field__input","aria-describedby":q.value},null)]),w&&c(Ne,{key:"clear"},{default:()=>[se(i("div",{class:"v-field__clearable",onMousedown:D=>{D.preventDefault(),D.stopPropagation()}},[c(Ae,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...g.value,props:{onFocus:b,onBlur:k,onClick:e["onClick:clear"],tabindex:-1}}):c(R,{name:"clear",onFocus:b,onBlur:k,tabindex:-1},null)]})]),[[fe,e.dirty]])]}),S&&i("div",{key:"append",class:"v-field__append-inner"},[t["append-inner"]?t["append-inner"](g.value):e.appendInnerIcon&&c(R,{key:"append-icon",name:"appendInner",color:C.value},null)]),i("div",{class:U(["v-field__outline",F.value]),style:X(G.value)},[V&&i(K,null,[i("div",{class:"v-field__outline__start"},null),x.value&&i("div",{class:"v-field__outline__notch"},[c(H,{ref:T,floating:!0,for:m.value,"aria-hidden":!v.value},{default:()=>[d()]})]),i("div",{class:"v-field__outline__end"},null)]),s.value&&x.value&&c(H,{ref:T,floating:!0,for:m.value,"aria-hidden":!v.value},{default:()=>[d()]})])])}),{controlRef:j,fieldIconColor:C}}}),et=z({autocomplete:String},"autocomplete");function tt(e){const l=ve(),a=Le(0),n=B(()=>e.autocomplete==="suppress"),t=B(()=>{if(e.name)return n.value?`${e.name}-${l}-${a.value}`:e.name}),o=B(()=>n.value?"off":e.autocomplete);return{isSuppressing:n,fieldAutocomplete:o,fieldName:t,update:()=>a.value=new Date().getTime()}}function lt(e){function l(a,n){if(!e.autofocus||!a)return;const t=n[0].target;(t.matches("input,textarea")?t:t.querySelector("input,textarea"))?.focus()}return{onIntersect:l}}const at=["color","file","time","date","datetime-local","week","month"],nt=z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...et(),...Ge(),...ge()},"VTextField"),ct=Y()({name:"VTextField",directives:{vIntersect:ue},inheritAttrs:!1,props:nt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:a,emit:n,slots:t}=l;const o=pe(e,"modelValue"),{isFocused:r,focus:y,blur:f}=me(e),{onIntersect:b}=lt(e),k=_(()=>typeof e.counterValue=="function"?e.counterValue(o.value):typeof e.counterValue=="number"?e.counterValue:(o.value??"").toString().length),R=_(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),A=_(()=>["plain","underlined"].includes(e.variant)),N=L(),v=L(),P=L(),x=tt(e),ee=_(()=>at.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function m(){x.isSuppressing.value&&x.update(),r.value||y(),oe(()=>{P.value!==document.activeElement&&P.value?.focus()})}function q(s){n("mousedown:control",s),s.target!==P.value&&(m(),s.preventDefault())}function Z(s){n("click:control",s)}function T(s,u){s.stopPropagation(),m(),oe(()=>{u(),Ue(e["onClick:clear"],s)})}function j(s){const u=s.target;if(!(e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type))){o.value=u.value;return}const C=u.value,E=u.selectionStart,p=u.selectionEnd;o.value=C,oe(()=>{let F=0;C.trimStart().length===u.value.length&&(F=C.length-u.value.length),E!=null&&(u.selectionStart=E-F),p!=null&&(u.selectionEnd=p-F)})}return J(()=>{const s=!!(t.counter||e.counter!==!1&&e.counter!=null),u=!!(s||t.details),[C,E]=Me(a),{modelValue:p,...F}=ce.filterProps(e),G=de.filterProps(e);return c(ce,Q({ref:N,modelValue:o.value,"onUpdate:modelValue":g=>o.value=g,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":A.value},e.class],style:e.style},C,F,{centerAffix:!A.value,focused:r.value}),{...t,default:g=>{let{id:$,isDisabled:V,isDirty:h,isReadonly:w,isValid:S,hasDetails:d,reset:D}=g;return c(de,Q({ref:v,onMousedown:q,onClick:Z,"onClick:clear":M=>T(M,D),role:e.role},Oe(G,["onClick:clear"]),{id:$.value,labelId:`${$.value}-label`,active:ee.value||h.value,dirty:h.value||e.dirty,disabled:V.value,focused:r.value,details:d.value,error:S.value===!1}),{...t,default:M=>{let{props:{class:O,...te},controlRef:le}=M;const W=i("input",Q({ref:ae=>P.value=le.value=ae,value:o.value,onInput:j,autofocus:e.autofocus,readonly:w.value,disabled:V.value,name:x.fieldName.value,autocomplete:x.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:y,onBlur:f,"aria-labelledby":`${$.value}-label`},te,E),null);return i(K,null,[e.prefix&&i("span",{class:"v-text-field__prefix"},[i("span",{class:"v-text-field__prefix__text"},[e.prefix])]),se(t.default?i("div",{class:U(O),"data-no-activator":""},[t.default({id:$}),W]):We(W,{class:O}),[[ue,b,null,{once:!0}]]),e.suffix&&i("span",{class:"v-text-field__suffix"},[i("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:u?g=>i(K,null,[t.details?.(g),s&&i(K,null,[i("span",null,null),c(Xe,{active:e.persistentCounter||r.value,value:k.value,max:R.value,disabled:e.disabled},t.counter)])]):void 0})}),je({},N,v,P)}});export{I as B,ct as V,Ke as a,de as b,Xe as c,lt as d,et as e,nt as f,rt as g,ut as h,st as i,ge as m,He as n,tt as u};
//# sourceMappingURL=VTextField-CzM7mfC5.js.map
